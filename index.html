<head>
  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != "dataLayer" ? "&l=" + l : "";
      j.async = true;
      j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-KCK548J7");
  </script>
  <!-- End Google Tag Manager -->
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript
    ><iframe
      src="https://www.googletagmanager.com/ns.html?id=GTM-KCK548J7"
      height="0"
      width="0"
      style="display: none; visibility: hidden"
    ></iframe
  ></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <h2>form</h2>
  <form>
    <label for="">email</label>
    <input type="email" id="email" />
    <label for="">phone</label>
    <input type="phone" id="phone" />
    <button
      type="button"
      onClick="
        resetCookies();
        setCookie();
        window.location.href='thanks.html'
        "
    >
      submit
    </button>
  </form>
</body>

<script>
  // cookieリセット
  function resetCookies() {
    // document.cookie=""だと全部消えてしまうので注意
    document.cookie = "email=; max-age=0; path=/";
    document.cookie = "phone=; max-age=0; path=/";
  }

  function setCookie() {
    const email = document.getElementById("email").value;
    document.cookie = "email=" + email + "; max-age=180; path=/";

    const phone = document.getElementById("phone").value;
    document.cookie = "phone=" + phone + "; max-age=180; path=/";
  }
  console.log(document.cookie);
</script>
